 
  
import javax.swing.*;  
import javax.swing.border.EmptyBorder;  
  
import java.awt.*;  
import java.awt.event.*;  
import java.text.DecimalFormat;  
import java.util.regex.*;  
  
  
public class WeightIndex extends JFrame {  
  
    /** 
     *  
     */  
    private static final long serialVersionUID = 1L;  
    private JPanel contentPane;  
    private JLabel titleLabel;  
    private JPanel contentPanel;  
    private JButton submitButton;  
    private ButtonGroup bg;  
    private JPanel sexPanel;  

    private JPanel whPanel;  
    private JLabel heightLabel;  
    private JLabel weightLabel;  
    private JTextField heightText;  
    private JTextField weightText;  
    private JPanel consolePanel;  
    private JLabel consoleLabel;  
    private JTextField consoleText;  
      
    private double weight;  
    private double height;  
    private double BMI;  
      
    /** 
     * Launch the application. 
     */  
    public static void main(String[] args) {  
        EventQueue.invokeLater(new Runnable() {  
            public void run() {  
                try {  
                    WeightIndex frame = new WeightIndex();  
                    frame.pack();  
                    frame.setVisible(true);  
                } catch (Exception e) {  
                    e.printStackTrace();  
                }  
            }  
        });  
    }  
  
    /** 
     * Create the frame. 
     */  
    public WeightIndex() {  
        setTitle("身高体重指数计算器");  
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);  
        setBounds(100, 100, 450, 300);  
        //主容器  
        contentPane = new JPanel();  
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));  
        contentPane.setLayout(new BorderLayout(0, 0));  
        setContentPane(contentPane);  
        
        //存放选项的panel，主容器中  
        contentPanel = new JPanel();  
        contentPanel.setLayout(new BorderLayout());  
        contentPane.add(contentPanel,BorderLayout.CENTER);  
        //提交按钮，主容器南  
        submitButton = new JButton("计算");  
        contentPane.add(submitButton, BorderLayout.SOUTH);  
          
        //存放性别选择的panel，选项北  
        bg = new ButtonGroup();  
        sexPanel = new JPanel();  
        sexPanel.setLayout(new FlowLayout());  
        contentPanel.add(sexPanel,BorderLayout.NORTH);  
      
        //存放身高体重的panel，选项中  
        whPanel = new JPanel();  
        whPanel.setLayout(new FlowLayout());  
        contentPanel.add(whPanel,BorderLayout.CENTER);  
        heightLabel = new JLabel("身高（米/m）：");  
        weightLabel = new JLabel("体重（千克/kg）：");  
        heightText = new JTextField(10);  
        heightText.setToolTipText("请输入身高");  
        weightText = new JTextField(10);  
        weightText.setToolTipText("请输入体重");  
        whPanel.add(heightLabel);  
        whPanel.add(heightText);  
        whPanel.add(weightLabel);  
        whPanel.add(weightText);  
        //结果  
        consolePanel = new JPanel();  
        consolePanel.setLayout(new FlowLayout());  
        consoleLabel = new JLabel("你的身体质量指数为：");  
        consoleText = new JTextField(28);  
        consoleText.setEditable(false);  
        consolePanel.add(consoleLabel);  
        consolePanel.add(consoleText);  
        contentPanel.add(consolePanel,BorderLayout.SOUTH);  
          
        submitButton.addActionListener(new ActionListener(){  
            public void actionPerformed(ActionEvent e) {
				String hstr = heightText.getText();  
                String wstr = weightText.getText();
				height = Double.parseDouble(hstr);  
				weight = Double.parseDouble(wstr);  
				BMI = weight / (height*height);  
				DecimalFormat df = new DecimalFormat("#.0");  
				String out = "";
				if(BMI<18.5)  
					out = "偏瘦，";  
				else if(BMI<23.9)  
					out = "正常，棒棒哒！";  
				else if(BMI<28)  
					out = "偏胖，";  
				else if(BMI>=28)  
					out = "肥胖，";  
				else  
					out ="请重新输入！"; 

				consoleText.setText("你的指数为："+df.format(BMI)+"，你的健康状况为："+out);  

				

				
            }  
        });  
    }  
  
}  